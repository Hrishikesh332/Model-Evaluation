<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Model Evaluation - Video Analysis AI</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/css/bootstrap.min.css" rel="stylesheet">
    <link href="{{ url_for('static', filename='css/style.css') }}" rel="stylesheet">
</head>
<body>
    <div class="top-bar d-flex justify-content-between align-items-center">
        <div class="d-flex align-items-center gap-3">
            <!-- Updated SVG Logo -->
            <div class="logo-container">
                <svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 204 146.6" width="40px" height="40px">
                    <defs>
                        <style>
                            .st0 {
                                fill: #1d1c1b;
                            }
                        </style>
                    </defs>
                    <rect class="st0" x="43.9" y="50.3" width="64.3" height="8.7" rx="2.6" ry="2.6"></rect>
                    <rect class="st0" y="50.3" width="35.3" height="8.7" rx="2.6" ry="2.6"></rect>
                    <rect class="st0" x="124.1" y="50.3" width="40.3" height="8.7" rx="2.6" ry="2.6"></rect>
                    <rect class="st0" x="129.9" y="37.8" width="34.5" height="8.7" rx="2.6" ry="2.6"></rect>
                    <rect class="st0" x="168.9" y="37.8" width="27.3" height="8.7" rx="2.6" ry="2.6"></rect>
                    <rect class="st0" x="157.3" y="25" width="31.1" height="8.7" rx="2.6" ry="2.6"></rect>
                    <rect class="st0" x="167.1" y="12.5" width="9.2" height="8.7" rx="2.6" ry="2.6"></rect>
                    <rect class="st0" x="74.3" y="112.6" width="15.9" height="9" rx="2.6" ry="2.6"></rect>
                    <rect class="st0" x="101.8" y="112.6" width="10.4" height="9" rx="2.6" ry="2.6"></rect>
                    <rect class="st0" x="117" y="112.6" width="28" height="9" rx="2.6" ry="2.6"></rect>
                    <rect class="st0" x="131" y="100.1" width="11.6" height="9" rx="2.6" ry="2.6"></rect>
                    <rect class="st0" x="52.4" y="112.6" width="9.2" height="9" rx="2.6" ry="2.6"></rect>
                    <path class="st0" d="M94.7,127.7c0-1.4,1.1-2.6,2.6-2.6h4c1.4,0,2.6,1.1,2.6,2.6v3.9c0,1.4-1.1,2.6-2.6,2.6h-4c-1.4,0-2.6-1.1-2.6-2.6v-3.9Z"></path>
                    <rect class="st0" x="85.8" y="137.6" width="8.7" height="9" rx="2.6" ry="2.6"></rect>
                    <rect class="st0" x="120.4" width="11.4" height="8.7" rx="2.6" ry="2.6"></rect>
                    <rect class="st0" x="55.8" y="37.8" width="29" height="8.7" rx="2.6" ry="2.6"></rect>
                    <rect class="st0" x="109.7" y="12.5" width="17.6" height="8.7" rx="2.6" ry="2.6"></rect>
                    <rect class="st0" x="98.8" y="25" width="28.5" height="8.7" rx="2.6" ry="2.6"></rect>
                    <rect class="st0" x="187.4" y="50.3" width="16.6" height="8.7" rx="2.6" ry="2.6"></rect>
                    <rect class="st0" x="30.6" y="62.8" width="82.1" height="8.7" rx="2.6" ry="2.6"></rect>
                    <rect class="st0" x="105.1" y="87.8" width="32.1" height="8.7" rx="2.6" ry="2.6"></rect>
                    <rect class="st0" x="43.9" y="75.3" width="104.3" height="8.7" rx="2.6" ry="2.6"></rect>
                    <rect class="st0" x="27.9" y="87.8" width="38.8" height="8.7" rx="2.6" ry="2.6"></rect>
                    <rect class="st0" x="63.3" y="100.1" width="12.7" height="9" rx="2.6" ry="2.6"></rect>
                    <rect class="st0" x="108.1" y="100.1" width="13.7" height="9" rx="2.6" ry="2.6"></rect>
                    <rect class="st0" x="39.8" y="100.1" width="12.9" height="9" rx="2.6" ry="2.6"></rect>
                    <rect class="st0" x="124.1" y="62.8" width="33.1" height="8.7" rx="2.6" ry="2.6"></rect>
                </svg>
            </div>
            <div class="search-container d-inline-block">
                <div class="dropdown d-inline-block">
                    <button class="btn btn-light border d-flex justify-content-between align-items-center w-auto" 
                            type="button" data-bs-toggle="dropdown" aria-expanded="false">
                        <span class="text-truncate" style="max-width: 200px;">Select Index</span>
                        <div class="d-flex align-items-center gap-2">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path d="M2 5l6 6 6-6"/>
                            </svg>
                        </div>
                    </button>
                    <ul class="dropdown-menu">
                        <li>
                            <select id="projectSelect" class="form-select border-0">
                                <option value="" selected disabled>Select an index</option>
                            </select>
                        </li>
                        <li><hr class="dropdown-divider"></li>
                        <li>
                            <div class="px-3 py-2">
                                <label class="form-label fw-bold mb-2">Select Video:</label>
                                <div class="custom-select-container">
                                    <select id="videoSelect" class="form-select d-none">
                                        <!-- Options will be added by JavaScript -->
                                    </select>
                                    <div class="custom-select form-control">
                                        <span class="selected-text">Select a video</span>
                                        <span class="dropdown-arrow">â–¼</span>
                                    </div>
                                    <div class="custom-options" style="display:none; max-height: 200px; overflow-y: auto;">
                                        <!-- Options will be added by JavaScript -->
                                    </div>
                                </div>
                            </div>
                    </ul>
                </div>
                <a href="#" 
                   target="_blank" 
                   rel="noopener noreferrer" 
                   class="text-decoration-none d-inline-block ms-2"
                   id="externalLink"
                   onclick="event.stopPropagation();">
                    <svg fill="#000000" width="12" height="12" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path d="M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"/>
                    </svg>
                </a>
            </div>
        </div>
        
        <div class="api-status" data-bs-toggle="modal" data-bs-target="#apiModal">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M12 2a10 10 0 0 1 10 10c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2z"/>
                <path d="M12 6v6l4 2"/>
            </svg>
            API Key: Not Connected
        </div>
    </div>

    <!-- Updated API Connection Modal -->
    <div class="modal fade" id="apiModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-body p-4">
                    <h5 class="custom-heading pb-3"><span class="fw-bold">Connect your API key to Jockey</span></h5>
                    <div class="position-relative">
                        <input type="password" id="apiKey" placeholder="Enter your API key" class="form-control" value="">
                    </div>
                    <div class="h-3"></div>
                    <div class="form-text mt-2 mb-4">
                        API key is optional. You can use public videos without an API key.
                    </div>
                    <div class="d-flex justify-content-between">
                        <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Cancel</button>
                        <button type="button" class="btn btn-primary" id="saveApiKey">Connect</button>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div class="main-content">
        <!-- Alert Container -->
        <div id="alertContainer"></div>

        <div class="row">
            <div class="col-lg-6 border-end full-height-border">
                <div class="d-flex align-items-center gap-2 justify-content-between">
                    <h3 class="section-title mb-0">Models</h3>
                    <div>
                        <select class="form-select form-select-sm" aria-label="Performance filter">
                            <option selected>gemini-1.5-pro</option>
                            <option value="1">gpt4o</option>
                        </select>
                    </div>
                </div>
                <hr>
                <!-- Left column results will be placed here -->
                <div id="leftColumnResults" class="model-results-container">
                    <div class="suggestion-card">
                        <svg class="suggestion-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="2" y="2" width="20" height="20" rx="2.18" ry="2.18"/>
                            <line x1="7" y1="2" x2="7" y2="22"/>
                            <line x1="17" y1="2" x2="17" y2="22"/>
                            <line x1="2" y1="12" x2="22" y2="12"/>
                        </svg>
                        Provide a scene by scene breakdown of this video
                    </div>
                    <div class="suggestion-card">
                        <svg class="suggestion-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"/>
                            <path d="M19 10v2a7 7 0 0 1-14 0v-2"/>
                            <line x1="12" y1="19" x2="12" y2="23"/>
                            <line x1="8" y1="23" x2="16" y2="23"/>
                        </svg>
                        Compare the beginning and ending segments of this video
                    </div>
                    <div class="suggestion-card">
                        <svg class="suggestion-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>
                        </svg>
                        Explain standout performance moments
                    </div>
                </div>
            </div>
            <div class="col-lg-6 border-start full-height-border">
                <div class="d-flex align-items-center gap-2 justify-content-between">
                    <h3 class="section-title mb-0">Twelve Labs Models</h3>
                    <div>
                        <select class="form-select form-select-sm" aria-label="Technical filter">
                            <option selected>pegasus-1.2</option>
                        </select>
                    </div>
                </div>
                <hr>
                <!-- Right column results will be placed here -->
                <div id="rightColumnResults" class="model-results-container">
                    <div class="suggestion-card">
                        <svg class="suggestion-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="5" y="2" width="14" height="20" rx="2" ry="2"/>
                            <line x1="12" y1="18" x2="12" y2="18"/>
                        </svg>
                        Do provide the key moments captured in Video
                    </div>
                    <div class="suggestion-card">
                        <svg class="suggestion-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="3"/>
                            <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/>
                        </svg>
                        Explain the main topic or theme of the video?
                    </div>
                    <div class="suggestion-card">
                        <svg class="suggestion-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"/>
                            <line x1="14.31" y1="8" x2="20.05" y2="17.94"/>
                            <line x1="9.69" y1="8" x2="21.17" y2="8"/>
                            <line x1="7.38" y1="12" x2="13.12" y2="2.06"/>
                            <line x1="9.69" y1="16" x2="3.95" y2="6.06"/>
                            <line x1="14.31" y1="16" x2="2.83" y2="16"/>
                            <line x1="16.62" y1="12" x2="10.88" y2="21.94"/>
                        </svg>
                        Provide the genre and purpose of video
                    </div>
                </div>
            </div>
        </div>
        
        <div class="chat-input">
            <div class="input-group d-flex align-items-center">
                <input type="text" class="form-control message-input" placeholder="Select a video first..." disabled>
                <button class="btn send-button" disabled>
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M22 2L11 13"/>
                        <path d="M22 2L15 22L11 13L2 9L22 2z"/>
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/js/bootstrap.bundle.min.js"></script>
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>